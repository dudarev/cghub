jQuery(function(a){"use strict";var b={};void 0!==this.cghub?b=this.cghub:this.cghub=b,b.base={usedReservedCharsTitle:'Using "*" or "?" in search query are disallowed',usedReservedCharsContent:'"*" and "?" chars reserved for future extensions',reservedChars:"*?",tabPressed:0,init:function(){b.base.cacheElements(),b.base.bindEvents(),b.base.mockIePlaceholder(),b.base.activateSkipNavigation(),b.base.activateMessages()},cacheElements:function(){b.base.$navbarAnchors=a("header.navbar ul.nav li a"),b.base.$navbarListItem=a("header.navbar ul li"),b.base.$messageModal=a("#messageModal"),b.base.$messageModal=a("#messageModal"),b.base.$searchForm=a("form.navbar-search"),b.base.$accessibilityLinks=a("#accessibility-links"),b.base.$messagesCloseLinks=a(".messages .close")},bindEvents:function(){b.base.defineActiveLink(),b.base.$searchForm.on("submit",b.base.checkSearchField)},toUTC:function(a){return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())},showMessage:function(a,c){b.base.$messageModal.find(".modal-label").text(a),b.base.$messageModal.find(".modal-body").html(c),b.base.$messageModal.modal()},showSpinner:function(){a('<div class="modal-backdrop fade in js-spinner-back"></div>').appendTo(a("body")),a(".js-spinner").show()},hideSpinner:function(){a(".js-spinner").hide(),a(".js-spinner-back").remove()},defineActiveLink:function(){b.base.$navbarAnchors.each(b.base.resetActiveLink)},resetActiveLink:function(b,c){var d=a(c);c.href.split("?")[0]!==window.location.origin+window.location.pathname?d.closest("li").removeClass("active"):d.closest("li").addClass("active")},activateSkipNavigation:function(){if(a("#main-content").length||a(".base-container").attr("id","main-content"),a.browser.webkit&&window.location.hash){var c=a(window.location.hash);c.length&&setTimeout(function(){a(window).scrollTop(c.offset().top),c.focus()},0)}b.base.$accessibilityLinks.find("a").on("click",function(){var b=a(a(this).attr("href"));if(b.length){a(window).scrollTop(b.offset().top-50);var c=b.find("a, input, button, .ui-dropdownchecklist-selector").filter(":visible");c.length?c.eq(0).focus():(b.focus(),a(this).parents("ul").css({height:0}))}return!1}),b.base.$accessibilityLinks.on("focusin",function(){b.base.hideSkipLinksTimeout&&clearTimeout(b.base.hideSkipLinksTimeout),a(this).css({height:"auto"})}).on("focusout",function(){var c=a(this);b.base.hideSkipLinksTimeout=setTimeout(function(){c.css({height:0})},100)})},mockIePlaceholder:function(){a("input[placeholder]").placeholder(),a.browser.msie&&a("input[placeholder]").css({height:"18px","line-height":"18px"})},checkSearchField:function(){for(var c=a(this).find("input").val(),d=0;d<b.base.reservedChars.length;d++)if(-1!=c.indexOf(b.base.reservedChars[d]))return b.base.showMessage(b.base.usedReservedCharsTitle,b.base.usedReservedCharsContent),!1;return!0},activateMessages:function(){b.base.$messagesCloseLinks.on("click",function(){var c=a(this).data("message-url");c&&a.ajax({url:c,dataType:"json",data:{csrfmiddlewaretoken:b.vars.csrfToken},type:"POST"})})},resetSession:function(){var c=a.cookie();for(var d in c)console.log(d),a.removeCookie(d,{path:"/"});a.removeCookie("sessionid",{path:"/"}),sessionStorage.clear(),window.location.href=b.vars.logoutPageUrl}},b.base.init()}),jQuery(function(a){"use strict";var b={};void 0!==this.cghub?b=this.cghub:this.cghub=b,b.help={hintShow:!1,keysIgnore:["analysis id","uploaded","modified","barcode","files size","aliquot id","tss id","participant id","published","sample id","sample accession","checksum","filename"],init:function(){b.help.bindEvents(),b.help.activateTableHeaderTooltipHelp(),b.help.activateDetailsHeaderTooltipHelp(),b.help.activateColumnsDropdownTooltipHelp(),b.help.activateTableCellTooltipHelp(),b.help.activateDetailsValueTooltipHelp(),b.help.activateFilterHeaderTooltipHelp(),b.help.activateFilterSelectorItemTooltipHelp(),b.help.activateFilterTextTooltipHelp(),b.help.activateCommonTooltipHelp(),b.help.activateAppliedFiltersSectionTooltipHelp(),b.help.activateHelpLinks()},removeTooltips:function(){b.help.tooltipShowTimeout&&clearTimeout(b.help.tooltipShowTimeout),b.help.tooltipHideTimeout&&clearTimeout(b.help.tooltipHideTimeout),b.help.hintShow=!1,a(".js-tooltip").remove()},showToolTip:function(c,d){d.length&&a.ajax({url:b.vars.helpHintUrl,dataType:"json",data:{key:d},type:"GET",success:function(d){if(b.help.hintShow&&(b.help.removeTooltips(),d.success)){var e=c.offset().left-a(window).scrollLeft(),f=c.offset().top-a(window).scrollTop(),g=a('<div class="tooltip js-tooltip"></div>').html(d.text).appendTo(a("body")),h=f,i=e;i>a(window).width()-200&&(i-=100),g.css({left:i}),f<g.outerHeight()?h+=c.outerHeight():h-=g.outerHeight(),g.css({top:h}).fadeIn(100,"swing")}}})},bindEvents:function(){a(window).scroll(function(){b.help.removeTooltips()})},activateHelpLinks:function(){a(document).on("click",".js-help-link",function(){var c=a(this).data("slug");return a.ajax({url:b.vars.helpTextUrl,dataType:"json",data:{slug:c},type:"GET",success:function(a){a.success&&(b.help.removeTooltips(),b.base.showMessage(a.title,a.content))}}),!1})},activateTooltipsForSelector:function(c,d){c=c+", "+c+" > abbr",a(document).on("mouseenter",c,function(c){b.help.tooltipShowTimeout=setTimeout(function(){var e=a(c.target);e.is("abbr")&&(e=e.parent()),b.help.hintShow=!0,b.help.showToolTip(e,d(e))},b.vars.tooltipHoverTime)}),a(document).on("mouseenter",".js-tooltip, .js-tooltip > *",function(){b.help.tooltipHideTimeout&&clearTimeout(b.help.tooltipHideTimeout)}),a(document).on("mouseout",c+", .js-tooltip, .js-tooltip > *",function(c){a(c.relatedTarget).parents(".js-tooltip").length||a(c.target).parents(".js-tooltip").length||(b.help.tooltipShowTimeout&&clearTimeout(b.help.tooltipShowTimeout),b.help.tooltipHideTimeout=setTimeout(function(){b.help.tooltipHideTimeout&&(clearTimeout(b.help.tooltipHideTimeout),a(".tooltip").remove(),b.help.hintShow=!1)},0))})},activateTableHeaderTooltipHelp:function(){b.help.activateTooltipsForSelector(".hDivBox a, .hDivBox span",function(a){return a.text()})},activateDetailsHeaderTooltipHelp:function(){b.help.activateTooltipsForSelector("table.js-details-table th",function(a){return a.text()})},activateColumnsDropdownTooltipHelp:function(){b.help.activateTooltipsForSelector("#ddcl-id-columns-selector-ddw .ui-dropdownchecklist-item label",function(a){return a.text()})},activateTableCellTooltipHelp:function(){b.help.activateTooltipsForSelector(".bDiv td[headers] div",function(c){if(!a.trim(c.text()).length)return"";var d=c.parents("td").index(),e=a(".hDivBox table").find("tr").eq(0).find("th").eq(d).text();return-1!=a.inArray(e.toLowerCase(),b.help.keysIgnore)?"":e+":"+c.text()})},activateDetailsValueTooltipHelp:function(){b.help.activateTooltipsForSelector("table.js-details-table td",function(c){if(!a.trim(c.text()).length)return"";var d=c.parent().find("th").text();return-1!=a.inArray(d.toLowerCase(),b.help.keysIgnore)?"":d+":"+c.text()})},activateFilterHeaderTooltipHelp:function(){b.help.activateTooltipsForSelector(".sidebar .filter-label",function(a){return"filter:"+a.text().replace(":","").replace("By ","")})},activateFilterSelectorItemTooltipHelp:function(){b.help.activateTooltipsForSelector(".sidebar .ui-dropdownchecklist-text",function(c){var d=c.parents(".ui-dropdownchecklist-dropcontainer-wrapper").prev().prev().prev().text();return d=d.replace(":","").replace("By ",""),-1!=a.inArray(d.toLowerCase(),b.help.keysIgnore)?"":d+":"+a.trim(c.text())})},activateFilterTextTooltipHelp:function(){b.help.activateTooltipsForSelector(".sidebar .ui-dropdownchecklist-text-item",function(c){var d=c.parents(".ui-dropdownchecklist-selector-wrapper").prev().prev().text();return d=d.replace(":","").replace("By ",""),-1!=a.inArray(d.toLowerCase(),b.help.keysIgnore)?"":d+":"+c.text()})},activateCommonTooltipHelp:function(){b.help.activateTooltipsForSelector(".js-common-tooltip",function(a){return"common:"+a.data("key")})},activateAppliedFiltersSectionTooltipHelp:function(){b.help.activateTooltipsForSelector(".base-content div.applied-filters li span",function(b){var c=a(b).parents("li").text(),d=c.substring(0,c.indexOf(":")),e=b.text().trim();return-1!=e.indexOf("(")&&(e=e.substring(0,e.indexOf(" ("))),d+":"+e})}},b.help.init()});