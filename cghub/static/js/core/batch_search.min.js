jQuery(function(e){"use strict";var t={};this.cghub!==undefined?t=this.cghub:this.cghub=t,t.batch_search={init:function(){t.batch_search.cacheElements(),t.batch_search.initFlexigrid(),t.batch_search.bindEvents()},cacheElements:function(){t.batch_search.$searchTable=e("table.data-table"),t.batch_search.$removeBtn=e(".ids-remove"),t.batch_search.$addToCartBtn=e(".ids-add-to-cart"),t.batch_search.$addToCartInput=e("input[name=add_to_cart]"),t.batch_search.$idsStorage=e(".js-ids-storage"),t.batch_search.$paginationLinks=e(".pagination li a"),t.batch_search.$form=e("form"),t.batch_search.$items_per_page_links=e(".items-per-page-label a")},bindEvents:function(){t.batch_search.$removeBtn.on("click",t.batch_search.removeIDs),t.batch_search.$paginationLinks.on("click",t.batch_search.goToPage),t.batch_search.$items_per_page_links.on("click",t.batch_search.goToPage),t.batch_search.$addToCartBtn.on("click",t.batch_search.addToCart)},initFlexigrid:function(){t.batch_search.$searchTable.flexigrid({height:"auto",showToggleBtn:!1}),e(".flexigrid .bDiv tr").contextmenu(),e(".data-table").css("visibility","visible");var n=e(".bDiv table");n.wrap(e("<fieldset/>")),n.parent().prepend(e('<legend class="hidden">Select files to remove from:</legend>')),e(".sort-link").attr("title","").attr("href","#").on("click",function(){return!1})},removeIDs:function(){var n=e('input[type="checkbox"][name="selected_files"]:checked'),r=t.batch_search.$idsStorage.val().split(" ");if(!n.length)return!1;n.each(function(){var t=e(this).val(),n=r.indexOf(t);n!=-1&&r.splice(n,1)}),t.batch_search.$idsStorage.val(r.join(" "))},goToPage:function(){var n=e(this);if(n.parent().hasClass("disabled")||n.parent().hasClass("active"))return!1;var r=e(this).attr("href");return t.batch_search.$form.attr("action",r).submit(),!1},addToCart:function(){t.batch_search.$addToCartInput.val("true")}},t.batch_search.init()});