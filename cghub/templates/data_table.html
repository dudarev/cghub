{% load search_tags %}
{% if results %}
    <table class="table table-striped table-condensed data-table">
        <thead>
        <tr>
            <th class="data-table-checkbox-cell"></th>
            <th class="data-table-data-cell">{% sort_link request 'legacy_sample_id' 'Barcode' %}</th>
            <th class="data-table-data-cell">{% sort_link request 'analysis_id' 'UUID' %}</th>
            <th class="data-table-data-cell">{% sort_link request 'sample_accession' 'Accession' %}</th>
            <th class="data-table-data-cell">{% sort_link request 'files_size' 'Files Size' %}</th>
            <th class="data-table-data-cell">{% sort_link request 'last_modified' 'Last modified' %}</th>
            <th class="data-table-data-cell">{% sort_link request 'disease_abbr' 'Disease' %}</th>
            <th class="data-table-data-cell">{% sort_link request 'sample_type' 'Sample Type' %}</th>
            <th class="data-table-data-cell">{% sort_link request 'analyte_code' 'Experiment Type' %}</th>
            <th class="data-table-data-cell">{% sort_link request 'library_strategy' 'Run Type' %}</th>
            <th class="data-table-data-cell">{% sort_link request 'center_name' 'Center' %}</th>
        </tr>
        </thead>
        <tbody>
        {% for r in results %}
            <tr>
                <td class="data-table-checkbox-cell"><input type="checkbox" name="selected_files"
                                                            value="{{ r.analysis_id }}"
                                                            data-legacy_sample_id="{{ r.legacy_sample_id }}"
                                                            data-analysis_id="{{ r.analysis_id }}"
                                                            data-sample_accession="{{ r.sample_accession }}"
                                                            data-files_size="{{ r.files_size }}"
                                                            data-last_modified ="{{ r.last_modified }}"
                                                            data-disease_abbr="{{ r.disease_abbr }}"
                                                            data-sample_type="{{ r.sample_type.text }}"
                                                            data-analyte_code="{{ r.analyte_code }}"
                                                            data-library_strategy="{{ r.library_strategy }}"
                                                            data-center_name="{{ r.center_name }}"></td>
                <td class="data-table-data-cell">{{ r.legacy_sample_id }}</td>
                <td class="data-table-data-cell">{{ r.analysis_id }}</td>
                <td class="data-table-data-cell">{{ r.sample_accession }}</td>
                <td class="data-table-data-cell data-filesize">
                    {% if r.files_size %}
                        {{ r.files_size }}
                    {% else %}
                        {{ r.files.file.0.filesize }}
                    {% endif %}
                </td>
                <td class="data-table-data-cell">{{ r.last_modified }}</td>
                <td class="data-table-data-cell">{{ r.disease_abbr }}</td>
                <td class="data-table-data-cell">{{ r.sample_type.text }}</td>
                <td class="data-table-data-cell">{{ r.analyte_code }}</td>
                <td class="data-table-data-cell">{{ r.library_strategy }}</td>
                <td class="data-table-data-cell">{{ r.center_name }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endif %}
