{% extends 'base.html' %}
{% load search_tags %}
{% load pagination_tags %}
{% block extra_header_css %}
    {% if debug %}
        <link rel="stylesheet/less" type="text/css" href="{{ STATIC_URL }}css/cart/cart.less" media="all">
    {% else %}
        <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/cart/cart.css" media="all">
    {% endif %}
{% endblock %}
{% block main_content %}
    <div class="cart-content">
        <div class="page-header">
            <h1>
                In your cart
            </h1>
        </div>
        <div><span>Files in your cart: {{ stats.count }} ({{ stats.size|file_size }})</span></div>

        <form action="{% url cart_page %}action/" method="POST">
            {% csrf_token %}
            {% if results %}
                <div class="btn-toolbar">
                    <div class="btn-group cart-btn-group">
                        <button class="btn cart-remove">Remove from cart</button>
                        <button class="btn cart-clear">Clear cart</button>
                    </div>

                    <div class="btn-group cart-btn-group">
                        <button class="btn cart-download-manifest">Download manifest</button>
                        <button class="btn cart-download-metadata">Download metadata</button>
                        <button class="btn cart-download-summary">Download summary TSV</button>
                    </div>
                </div>
                {% items_per_page request 10 25 50 %}
                <div class="column-select-label"><span>Columns:</span></div>
                <select class="column-select" multiple>
                  <option value="(all)">(all)</option>
                </select>
                {% include 'data_table.html' %}
                {% items_per_page request 10 25 50 %}
                {% pagination %}
                <div class="btn-toolbar">
                    <div class="btn-group cart-btn-group">
                        <button class="btn cart-remove">Remove from cart</button>
                        <button class="btn cart-clear">Clear cart</button>
                    </div>

                    <div class="btn-group cart-btn-group">
                        <button class="btn cart-download-manifest">Download manifest</button>
                        <button class="btn cart-download-metadata">Download metadata</button>
                        <button class="btn cart-download-summary">Download summary TSV</button>
                    </div>
                </div>
            {% else %}
                <p>Your cart is empty!</p>
            {% endif %}
        </form>
    </div>
{% endblock %}
{% block extra_body_js %}
    {% if debug %}
        <script type="text/javascript" src="{{ STATIC_URL }}js/cart/cart.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}js/table.js"></script>
    {% else %}
        <script type="text/javascript" src="{{ STATIC_URL }}js/cart/cart.min.js?version=1"></script>
    {% endif %}
{% endblock %}
